{% extends '_base.html' %}

{% block head %}
  {{ super() }}
  <style>
    @media (min-width: 992px) { 
      .row-cols-custom-5 {
        display: flex;
        flex-wrap: wrap;
      }
      .row-cols-custom-5 > .col {
        flex: 0 0 auto;
        width: 20%; 
      }
    }

    /* Style adjustments for image and card */
    .card-img-top {
      width: 100%;
      height: 15vw; 
      object-fit: cover;
    }

    .card:hover {
      transform: scale(1.02);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    /* card body */
    .card-body {
      padding: 0.5rem;
    }

    .card-title {
      font-size: 1rem; 
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .card-text,
    .text-muted {
      font-size: 0.8rem; 
    }

    /* Adjustments for smaller screens */
    @media (max-width: 768px) {
      .row-cols-custom-5 > .col {
        width: 33.33333333%; 
      }
      .card-img-top {
        height: 25vw; 
      }
    }

    @media (max-width: 576px) {
      .row-cols-custom-5 > .col {
        width: 50%; 
      }
      .card-img-top {
        height: 40vw; 
      }
    }
  </style>
{% endblock head %}

{% block content %}
  <div class="container mt-4">
    <h2 class="text-center mb-4">Search Results for "{{ query }}"</h2>
    <div class="row g-4 row-cols-custom-5">
      {% for track in results %}
      <div class="col">
        <div class="card h-100">
          <img src="{{ track.album.cover }}" class="card-img-top" alt="{{ track.album.title }}">
          <div class="card-body">
            <h5 class="card-title">{{ track.title }}</h5>
            <p class="card-text">{{ track.artist.name }}</p>
            <p class="card-text"><small class="text-muted">From the album "{{ track.album.title }}"</small></p>
          </div>
        </div>
      </div>
      {% else %}
      <p>No results found.</p>
      {% endfor %}
    </div>
  </div>
{% endblock content %}